/* ==================== 移动端专用样式 ==================== */
/* 此文件专门用于解决移动端滚动和触摸问题 */

/* 强制允许滚动 */
html {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y !important;
    height: auto !important;
    min-height: 100% !important;
    position: static !important;
}

body {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    touch-action: pan-y manipulation !important;
    height: auto !important;
    min-height: 100vh !important;
    position: static !important;
}

/* 游戏容器 */
.game-container {
    position: relative !important;
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
}

/* 所有屏幕 */
.screen {
    position: relative !important;
    height: auto !important;
    min-height: 100vh !important;
    overflow: visible !important;
    overflow-y: auto !important;
}

.screen.active {
    display: flex !important;
    flex-direction: column !important;
}

/* 加载屏幕保持固定 */
.loading-screen {
    position: fixed !important;
    overflow: hidden !important;
}

/* 横屏提示保持固定 */
.landscape-prompt {
    position: fixed !important;
    touch-action: auto !important;
    pointer-events: auto !important;
}

/* 模态框 */
.modal {
    position: fixed !important;
    overflow: hidden !important;
}

.modal-content {
    max-height: 90vh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* 内容区域 */
.menu-content,
.settings-content,
.encyclopedia-content,
.account-content,
.ranked-content,
.achievement-content,
.tutorial-content,
.multiplayer-content,
.class-selection {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    height: auto !important;
}

/* 图鉴网格 */
.encyclopedia-grid,
.items-grid,
.cards-grid,
.classes-grid {
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
}

/* 按钮触摸优化 */
.menu-btn,
.action-btn,
.form-control {
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
}

/* 卡牌触摸优化 */
.card {
    touch-action: manipulation !important;
    -webkit-tap-highlight-color: transparent !important;
}

/* ==================== 小屏幕手机 (375px以下) ==================== */
@media (max-width: 375px) {
    html {
        font-size: 14px !important;
    }
    
    .screen {
        padding: 10px !important;
    }
    
    .menu-header {
        margin: 10px 0 20px !important;
        padding-top: 15px !important;
    }
    
    .menu-header h1 {
        font-size: 1.5rem !important;
    }
    
    .menu-btn {
        padding: 10px 16px !important;
        font-size: 0.85rem !important;
        min-width: 120px !important;
    }
    
    .class-card {
        min-width: 120px !important;
        padding: 12px !important;
    }
}

/* ==================== 超小屏幕手机 (320px以下) ==================== */
@media (max-width: 320px) {
    html {
        font-size: 12px !important;
    }
    
    .screen {
        padding: 8px !important;
    }
    
    .menu-header {
        margin: 8px 0 15px !important;
        padding-top: 10px !important;
    }
    
    .menu-header h1 {
        font-size: 1.3rem !important;
    }
    
    .menu-btn {
        padding: 8px 12px !important;
        font-size: 0.8rem !important;
        min-width: 100px !important;
    }
    
    .class-card {
        min-width: 100px !important;
        padding: 10px !important;
    }
}

/* ==================== 横屏模式 ==================== */
@media (max-width: 926px) and (orientation: landscape) and (max-height: 500px) {
    html {
        overflow-y: auto !important;
    }
    
    body {
        min-height: 100% !important;
    }
    
    .screen {
        padding: 8px !important;
    }
    
    .menu-header {
        margin: 5px 0 10px !important;
        padding-top: 8px !important;
    }
    
    .menu-header h1 {
        font-size: 1.2rem !important;
    }
    
    .menu-buttons {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
    }
    
    .menu-btn {
        padding: 6px 12px !important;
        font-size: 0.8rem !important;
        min-width: 100px !important;
    }
    
    .class-selection {
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        overflow-y: auto !important;
    }
    
    .class-card {
        min-width: 130px !important;
        max-width: 180px !important;
        padding: 10px !important;
    }
    
    .class-avatar {
        width: 40px !important;
        height: 40px !important;
        font-size: 1rem !important;
    }
}
